<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name='viewport' content='width=device-width, initial-scale=1' />

<link href="./css/bootstrap3/css/bootstrap.min.css" rel="stylesheet">
<link href="./css/login.css" rel="stylesheet">
<link href='./css/button.css' rel='stylesheet'>

<title>登录</title>
</head>

<body>
    <div class='container-fluid' style='height:100%;'>
        <div class='row' style='height:100%;'>
            <div class='col-md-3 col-xs-3 col-sm-3'></div>
            <div class='col-md-6'>
                    <div class='row' style='height:100%;background-color:;'>
                        <div class='col-md-2 col-xs-2 col-sm-2'></div>
                        <div class='col-md-8 col-xs-8 col-sm-8' style='height:100%'>
                        <div style='position:relative;left:15%;top:20%;width:70%;height:60%;'>
                            <form>
                                <div class='form-group has-feedback'>
                                    <label class="control-label" for='stu_num'>学号</label>
                                    <div class='input-group'>
                                        <div class="input-group-addon">N</div>
                                        <input type='text' class='form-control' id='stu_num' placeholder='school number' >
                                    </div>
                                    <div class="glyphicon glyphicon-user form-control-feedback" aria-hidden="true"></div>
                                    <div class="alert alert-danger alert-dismissable hidden" id='login_check_n'>
                                        <a href="#" class="close">&times;</a>
                                        <em>请输入学号</em>
                                    </div>
                                </div>
                                <div class='form-group has-feedback'>
                                    <label class="control-label" for='password'>密码</label>
                                    <div class='input-group'>
                                        <div class='input-group-addon'>P</div>
                                        <input type='password' class='form-control' id='password' placeholder='password' >
                                    </div>
                                    <div class="glyphicon glyphicon-eye-close form-control-feedback" aria-hidden="true"></div>
                                    <div class="alert alert-danger alert-dismissable hidden" id='login_check_p'>
                                        <a href="#" class="close">&times;</a>
                                        <em>请输入密码</em>
                                    </div>
                                </div>
                                <button type="button" class="btn btn-primary" id='signin'>登录</button>
                                <button type="button" class="btn btn-info" id='signup'>注册</button>
                            </form>
                        </div>
                        </div>
                        <div class='col-md-2 col-xs-2 col-sm-2'></div>
                    </div>
                </div>
                <div style='height:15%;'></div>
            </div>
            <div class='col-md-3 col-xs-3 col-sm-3'></div>
        </div>
    </div>

<script src="./js/jquery.js"></script>
<script src="./css/bootstrap3/js/bootstrap.min.js"></script>
<script src='./js/highcharts/highcharts.js'></script>
<script>
    var signup=document.getElementById('signup');
    if(window.addEventListener){
        signup.addEventListener('click',create_user,false);
    }
    else{
        signup.attachEvent('onclick',create_user);
    }
    
    var signin=document.getElementById('signin');
    if(window.addEventListener){
        signin.addEventListener('click',check,false);
    }
    else{
        signin.attachEvent('onclick',check);
    }
    
    var closes=$('.close');
    //alert(closes);
    /*for(var i=0;i<closes.length;i++){
        closes[i].on('click',hideClose);
    }*/
    closes.on('click',hideClose);
    
    /*$(document).ready(function(jQuery){
        alert(jQuery);
    });*/
    /*jQuery(document).ready(function(a){
        alert(jQuery);
        alert(a);
    });*/
    
    function hideClose(e){
        /*var no_num=$('#login_check_n');
        var no_pass=$('#login_check_p');
        no_num.addClass('hidden');
        no_pass.addClass('hidden');*/
        e=window.event || e;
        var obj=e.target?e.target:e.srcElement;
        var $obj_j = $(obj);
        /*alert(closes);
        alert(jQuery);
        alert($obj_j);*/
        //alert($obj_j.parent().length);
        //alert($obj_j.parent()[0]);
        var $p=$($obj_j.parent()[0]);
        $p.addClass('hidden');
    }
    
    
    function check(e){
        //alert(this);
        e= window.event || e;
        var stu_num=document.getElementById('stu_num');
        var password=document.getElementById('password');
        //alert('1');
        //alert(stu_num.value);
        //alert(password.value);
        if(stu_num.value==''){
            /*e.preventDefault();
            if(window.event){
                window.event.returnValue=false;
            }*/
            //alert('请将登录信息填写完整');
            var no_num=$('#login_check_n');
            no_num.removeClass('hidden');
        }
        else if(password.value==''){
            /*e.preventDefault();
            if(window.event){
                window.event.returnValue=false;
            }*/
            var no_pass=$('#login_check_p');
            no_pass.removeClass('hidden');
        }
        else{
            e.preventDefault();
            if(window.event){
                window.event.returnValue=false;
            }
            window.location.href='./schedule.html?'+'stu_num='+stu_num.value+'&password='+password.value;
        }
    }
    
    function create_user(e){
        /*e=window.event || e;
        e.preventDefault();
        if(window.event){
            window.event.returnValue=false;
        }*/
        window.location.href='./signup.html';
    }
</script>

</body>

</html>